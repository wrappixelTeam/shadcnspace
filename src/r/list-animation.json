{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "list-animation",
  "type": "registry:component",
  "title": "List Animation",
  "description": "List Animation component",
  "dependencies": [
    "motion"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "src/components/shadcn-space/list-animation/list-animation.tsx",
      "content": "\"use client\"\r\n\r\nimport React, {\r\n  ComponentPropsWithoutRef,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n} from \"react\"\r\nimport { AnimatePresence, motion, MotionProps } from \"motion/react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport function ListAnimationItem({ children }: { children: React.ReactNode }) {\r\n  const animations: MotionProps = {\r\n    initial: { scale: 0, opacity: 0 },\r\n    animate: { scale: 1, opacity: 1, originY: 0 },\r\n    exit: { scale: 0, opacity: 0 },\r\n    transition: { type: \"spring\", stiffness: 350, damping: 40 },\r\n  }\r\n\r\n  return (\r\n    <motion.div {...animations} layout className=\"mx-auto w-full\">\r\n      {children}\r\n    </motion.div>\r\n  )\r\n}\r\n\r\nexport interface AnimatedListProps extends ComponentPropsWithoutRef<\"div\"> {\r\n  children: React.ReactNode\r\n  delay?: number\r\n}\r\n\r\nconst ListAnimation = React.memo(\r\n  ({ children, className, delay = 1000, ...props }: AnimatedListProps) => {\r\n    const [index, setIndex] = useState(0)\r\n    const childrenArray = useMemo(\r\n      () => React.Children.toArray(children),\r\n      [children]\r\n    )\r\n\r\n    useEffect(() => {\r\n      if (index < childrenArray.length - 1) {\r\n        const timeout = setTimeout(() => {\r\n          setIndex((prevIndex) => (prevIndex + 1) % childrenArray.length)\r\n        }, delay)\r\n\r\n        return () => clearTimeout(timeout)\r\n      }\r\n    }, [index, delay, childrenArray.length])\r\n\r\n    const itemsToShow = useMemo(() => {\r\n      const result = childrenArray.slice(0, index + 1).reverse()\r\n      return result\r\n    }, [index, childrenArray])\r\n\r\n    return (\r\n      <div\r\n        className={cn(`flex flex-col items-center gap-4`, className)}\r\n        {...props}\r\n      >\r\n        <AnimatePresence>\r\n          {itemsToShow.map((item) => (\r\n            <ListAnimationItem key={(item as React.ReactElement).key}>\r\n              {item}\r\n            </ListAnimationItem>\r\n          ))}\r\n        </AnimatePresence>\r\n      </div>\r\n    )\r\n  }\r\n)\r\nListAnimation.displayName = \"ListAnimation\"\r\n\r\ninterface Item {\r\n  avatar: string\r\n  title: string\r\n  subtitle: string\r\n}\r\n\r\nlet Messages = [\r\n  {\r\n    avatar:\r\n      'https://images.shadcnspace.com/assets/profiles/user-1.jpg',\r\n    title: 'Roman Joined the Team!',\r\n    subtitle: 'Congratulate him',\r\n  },\r\n  {\r\n    avatar:\r\n      'https://images.shadcnspace.com/assets/profiles/user-2.jpg',\r\n    title: 'New message',\r\n    subtitle: 'Salma sent you new message',\r\n  },\r\n  {\r\n    avatar:\r\n      'https://images.shadcnspace.com/assets/profiles/user-4.jpg',\r\n    title: 'Bianca sent payment',\r\n    subtitle: 'Check your earnings',\r\n  },\r\n  {\r\n    avatar:\r\n      'https://images.shadcnspace.com/assets/profiles/user-3.jpg',\r\n    title: 'Jolly completed tasks',\r\n    subtitle: 'Assign her new tasks',\r\n  },\r\n  {\r\n    avatar:\r\n      'https://images.shadcnspace.com/assets/profiles/user-7.jpg',\r\n    title: 'John received payment',\r\n    subtitle: '$230 deducted from account',\r\n  },\r\n]\r\n\r\nMessages = Array.from({ length: 2 }, () => Messages).flat()\r\n\r\nconst Notification = ({ avatar, title, subtitle }: Item) => {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'relative mx-auto min-h-fit w-full max-w-[400px] cursor-pointer overflow-hidden rounded-2xl p-4',\r\n\r\n        'transition-all duration-200 ease-in-out hover:scale-105',\r\n\r\n        // light styles (shadcn tokens)\r\n        'bg-muted/50 border border-border shadow-sm',\r\n\r\n        // dark styles (shadcn tokens)\r\n        'transform-gpu dark:backdrop-blur-md dark:shadow-muted'\r\n      )}>\r\n      <div className='flex items-center'>\r\n        <span className='flex-shrink-0 relative'>\r\n          <img\r\n            src={avatar}\r\n            width={45}\r\n            height={45}\r\n            alt='tailwind-admin'\r\n            className='rounded-full'\r\n          />\r\n        </span>\r\n        <div className='ps-4'>\r\n          <h5 className='text-sm font-semibold text-foreground mb-1'>\r\n            {title}\r\n          </h5>\r\n          <p className='text-xs font-normal text-muted-foreground truncate'>\r\n            {subtitle}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function ListAnimationDemo() {\r\n  return (\r\n    <>\r\n      <div className='min-h-screen flex flex-col items-center justify-center'>\r\n        <div\r\n          className={cn(\r\n            'relative flex items-center h-[500px] w-full flex-col overflow-hidden p-2'\r\n          )}>\r\n          <ListAnimation>\r\n            {Messages.map((item, idx) => (\r\n              <Notification {...item} key={idx} />\r\n            ))}\r\n          </ListAnimation>\r\n\r\n          <div className='from-background pointer-events-none absolute inset-x-0 bottom-0 h-1/4 bg-gradient-to-t'></div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n",
      "type": "registry:component",
      "target": "components/shadcn-space/list-animation/list-animation.tsx"
    }
  ]
}