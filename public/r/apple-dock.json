{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "apple-dock",
  "type": "registry:component",
  "title": "Default",
  "description": "Apple Dock component",
  "dependencies": [
    "motion",
    "lucide-react",
    "class-variance-authority"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "src/components/shadcn-space/apple-dock/apple-dock.tsx",
      "content": "\"use client\";\r\n\r\nimport React, { PropsWithChildren, useRef } from \"react\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\nimport {\r\n  motion,\r\n  MotionValue,\r\n  useMotionValue,\r\n  useSpring,\r\n  useTransform,\r\n} from \"motion/react\";\r\nimport type { MotionProps } from \"motion/react\";\r\nimport {\r\n  Folder,\r\n  Search,\r\n  Inbox,\r\n  Settings,\r\n  Command,\r\n  Compass,\r\n  LucideIcon,\r\n} from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface AppleDockProps extends VariantProps<typeof appleDockVariants> {\r\n  className?: string;\r\n  iconSize?: number;\r\n  iconMagnification?: number;\r\n  disableMagnification?: boolean;\r\n  iconDistance?: number;\r\n  direction?: \"top\" | \"middle\" | \"bottom\";\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst DEFAULT_SIZE = 40;\r\nconst DEFAULT_MAGNIFICATION = 60;\r\nconst DEFAULT_DISTANCE = 140;\r\nconst DEFAULT_DISABLEMAGNIFICATION = false;\r\n\r\nconst appleDockVariants = cva(\r\n  \"supports-backdrop-blur:bg-white/10 supports-backdrop-blur:dark:bg-black/10 mx-auto mt-8 flex h-[58px] w-max items-center justify-center gap-2 rounded-2xl border p-2 backdrop-blur-md\",\r\n);\r\n\r\nconst AppleDock = React.forwardRef<HTMLDivElement, AppleDockProps>(\r\n  (\r\n    {\r\n      className,\r\n      children,\r\n      iconSize = DEFAULT_SIZE,\r\n      iconMagnification = DEFAULT_MAGNIFICATION,\r\n      disableMagnification = DEFAULT_DISABLEMAGNIFICATION,\r\n      iconDistance = DEFAULT_DISTANCE,\r\n      direction = \"middle\",\r\n      ...props\r\n    },\r\n    ref,\r\n  ) => {\r\n    const mouseX = useMotionValue(Infinity);\r\n\r\n    const renderChildren = () => {\r\n      return React.Children.map(children, (child) => {\r\n        if (\r\n          React.isValidElement<AppleDockIconProps>(child) &&\r\n          child.type === AppleDockIcon\r\n        ) {\r\n          return React.cloneElement(child, {\r\n            ...child.props,\r\n            mouseX: mouseX,\r\n            size: iconSize,\r\n            magnification: iconMagnification,\r\n            disableMagnification: disableMagnification,\r\n            distance: iconDistance,\r\n          });\r\n        }\r\n        return child;\r\n      });\r\n    };\r\n\r\n    return (\r\n      <motion.div\r\n        ref={ref}\r\n        onMouseMove={(e) => mouseX.set(e.pageX)}\r\n        onMouseLeave={() => mouseX.set(Infinity)}\r\n        {...props}\r\n        className={cn(appleDockVariants({ className }), {\r\n          \"items-start\": direction === \"top\",\r\n          \"items-center\": direction === \"middle\",\r\n          \"items-end\": direction === \"bottom\",\r\n        })}\r\n      >\r\n        {renderChildren()}\r\n      </motion.div>\r\n    );\r\n  },\r\n);\r\n\r\nAppleDock.displayName = \"AppleDock\";\r\n\r\nexport interface AppleDockIconProps extends Omit<\r\n  MotionProps & React.HTMLAttributes<HTMLDivElement>,\r\n  \"children\"\r\n> {\r\n  size?: number;\r\n  magnification?: number;\r\n  disableMagnification?: boolean;\r\n  distance?: number;\r\n  mouseX?: MotionValue<number>;\r\n  className?: string;\r\n  children?: React.ReactNode;\r\n  props?: PropsWithChildren;\r\n}\r\n\r\nconst AppleDockIcon = ({\r\n  size = DEFAULT_SIZE,\r\n  magnification = DEFAULT_MAGNIFICATION,\r\n  disableMagnification,\r\n  distance = DEFAULT_DISTANCE,\r\n  mouseX,\r\n  className,\r\n  children,\r\n  ...props\r\n}: AppleDockIconProps) => {\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const padding = Math.max(6, size * 0.2);\r\n  const defaultMouseX = useMotionValue(Infinity);\r\n\r\n  const distanceCalc = useTransform(mouseX ?? defaultMouseX, (val: number) => {\r\n    const bounds = ref.current?.getBoundingClientRect() ?? { x: 0, width: 0 };\r\n    return val - bounds.x - bounds.width / 2;\r\n  });\r\n\r\n  const targetSize = disableMagnification ? size : magnification;\r\n\r\n  const sizeTransform = useTransform(\r\n    distanceCalc,\r\n    [-distance, 0, distance],\r\n    [size, targetSize, size],\r\n  );\r\n\r\n  const scaleSize = useSpring(sizeTransform, {\r\n    mass: 0.1,\r\n    stiffness: 150,\r\n    damping: 12,\r\n  });\r\n\r\n  return (\r\n    <motion.div\r\n      ref={ref}\r\n      style={{ width: scaleSize, height: scaleSize, padding }}\r\n      className={cn(\r\n        \"flex aspect-square cursor-pointer items-center justify-center rounded-full\",\r\n        disableMagnification && \"hover:bg-muted-foreground transition-colors\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <div>{children}</div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nAppleDockIcon.displayName = \"AppleDockIcon\";\r\n\r\nexport default function AppleDockDemo() {\r\n  type IconData = {\r\n    IconComponent: LucideIcon;\r\n    bgColor: string;\r\n    textColor: string;\r\n    label: string;\r\n  };\r\n\r\n  const dockIcons: IconData[] = [\r\n    {\r\n      IconComponent: Folder,\r\n      bgColor: \"bg-blue-500/10\",\r\n      textColor: \"text-blue-500\",\r\n      label: \"Folder\",\r\n    },\r\n    {\r\n      IconComponent: Search,\r\n      bgColor: \"bg-orange-400/10\",\r\n      textColor: \"text-orange-400\",\r\n      label: \"Search\",\r\n    },\r\n    {\r\n      IconComponent: Inbox,\r\n      bgColor: \"bg-teal-400/10\",\r\n      textColor: \"text-teal-400\",\r\n      label: \"Inbox\",\r\n    },\r\n    {\r\n      IconComponent: Settings,\r\n      bgColor: \"bg-red-500/10\",\r\n      textColor: \"text-red-500\",\r\n      label: \"Settings\",\r\n    },\r\n    {\r\n      IconComponent: Command,\r\n      bgColor: \"bg-amber-300/10\",\r\n      textColor: \"text-amber-300\",\r\n      label: \"Command\",\r\n    },\r\n    {\r\n      IconComponent: Compass,\r\n      bgColor: \"bg-sky-400/10\",\r\n      textColor: \"text-sky-400\",\r\n      label: \"Compass\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center bg-background\">\r\n      <div className=\"relative\">\r\n        <AppleDock iconMagnification={60} iconDistance={140}>\r\n          {dockIcons.map(({ IconComponent, bgColor, textColor, label }) => (\r\n            <AppleDockIcon\r\n              key={label}\r\n              className={cn(bgColor, textColor)}\r\n              aria-label={label}\r\n            >\r\n              <IconComponent className=\"w-6 h-6\" />\r\n            </AppleDockIcon>\r\n          ))}\r\n        </AppleDock>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/shadcn-space/apple-dock/apple-dock.tsx"
    }
  ]
}